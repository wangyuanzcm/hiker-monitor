{"code":"import { fcp, fcpEntryName, lcp } from '../data/metrics';\r\nimport { po, poDisconnect } from './performanceObserver';\r\nimport { perfObservers } from './observeInstances';\r\nimport { initTotalBlockingTime } from './totalBlockingTime';\r\nimport { logMetric } from '../data/log';\r\nexport const initFirstPaint = (performanceEntries) => {\r\n    performanceEntries.forEach((entry) => {\r\n        if (entry.name === 'first-paint') {\r\n            logMetric(entry.startTime, 'fp');\r\n        }\r\n        else if (entry.name === fcpEntryName) {\r\n            fcp.value = entry.startTime;\r\n            logMetric(fcp.value, 'fcp');\r\n            perfObservers[4] = po('longtask', initTotalBlockingTime);\r\n            poDisconnect(0);\r\n        }\r\n    });\r\n};\r\nexport const initLargestContentfulPaint = (performanceEntries) => {\r\n    const lastEntry = performanceEntries.pop();\r\n    if (lastEntry) {\r\n        lcp.value = lastEntry.renderTime || lastEntry.loadTime;\r\n    }\r\n};\r\nexport const initElementTiming = (performanceEntries) => {\r\n    performanceEntries.forEach((entry) => {\r\n        if (entry.identifier) {\r\n            logMetric(entry.startTime, entry.identifier);\r\n        }\r\n    });\r\n};\r\n//# sourceMappingURL=paint.js.map","references":["/Users/wangyuan/Desktop/hiker-monitor/src/typings/types.ts","/Users/wangyuan/Desktop/hiker-monitor/src/data/metrics.ts","/Users/wangyuan/Desktop/hiker-monitor/src/performance/performanceObserver.ts","/Users/wangyuan/Desktop/hiker-monitor/src/performance/observeInstances.ts","/Users/wangyuan/Desktop/hiker-monitor/src/performance/totalBlockingTime.ts","/Users/wangyuan/Desktop/hiker-monitor/src/data/log.ts"],"map":"{\"version\":3,\"file\":\"paint.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/performance/paint.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EAAE,EAAE,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AACzD,OAAO,EAAE,aAAa,EAAE,MAAM,oBAAoB,CAAC;AACnD,OAAO,EAAE,qBAAqB,EAAE,MAAM,qBAAqB,CAAC;AAC5D,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACxC,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,kBAAuC,EAAE,EAAE;IACxE,kBAAkB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;QACnC,IAAI,KAAK,CAAC,IAAI,KAAK,aAAa,EAAE;YAChC,SAAS,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SAClC;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,YAAY,EAAE;YACtC,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC;YAC5B,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC5B,aAAa,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,UAAU,EAAE,qBAAqB,CAAC,CAAC;YACzD,YAAY,CAAC,CAAC,CAAC,CAAC;SACjB;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AACF,MAAM,CAAC,MAAM,0BAA0B,GAAG,CACxC,kBAAuC,EACvC,EAAE;IACF,MAAM,SAAS,GAAG,kBAAkB,CAAC,GAAG,EAAE,CAAC;IAC3C,IAAI,SAAS,EAAE;QACb,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,UAAU,IAAI,SAAS,CAAC,QAAQ,CAAC;KACxD;AACH,CAAC,CAAC;AACF,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,kBAAuC,EAAE,EAAE;IAC3E,kBAAkB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;QACnC,IAAI,KAAK,CAAC,UAAU,EAAE;YACpB,SAAS,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;SAC9C;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC\"}","dts":{"name":"/Users/wangyuan/Desktop/hiker-monitor/dist/performance/paint.d.ts","writeByteOrderMark":false,"text":"import { IPerformanceEntry } from '../typings/types';\r\nexport declare const initFirstPaint: (performanceEntries: IPerformanceEntry[]) => void;\r\nexport declare const initLargestContentfulPaint: (performanceEntries: IPerformanceEntry[]) => void;\r\nexport declare const initElementTiming: (performanceEntries: IPerformanceEntry[]) => void;\r\n"}}
