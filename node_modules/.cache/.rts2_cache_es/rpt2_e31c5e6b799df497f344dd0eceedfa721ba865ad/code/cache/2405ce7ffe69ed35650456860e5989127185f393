{"code":"import { fcp, tbt } from '../data/metrics';\r\nexport const initTotalBlockingTime = (performanceEntries) => {\r\n    performanceEntries.forEach((entry) => {\r\n        //从fcp -> tti获取长耗时任务（self表示耗时长任务来自于渲染帧）\r\n        // console.log('🍌', entry);\r\n        if (entry.name !== 'self' || entry.startTime < fcp.value) {\r\n            return;\r\n        }\r\n        // console.log('🍌2', entry);\r\n        //https://developer.mozilla.org/zh-CN/docs/Web/API/Long_Tasks_API\r\n        //长耗时任务意味着执行时间超过50ms的\r\n        const blockingTime = entry.duration - 50;\r\n        if (blockingTime > 0) {\r\n            tbt.value += blockingTime;\r\n        }\r\n    });\r\n};\r\n//# sourceMappingURL=totalBlockingTime.js.map","references":["/Users/wangyuan/Desktop/hiker-monitor/src/data/metrics.ts","/Users/wangyuan/Desktop/hiker-monitor/src/typings/types.ts"],"map":"{\"version\":3,\"file\":\"totalBlockingTime.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/performance/totalBlockingTime.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,iBAAiB,CAAC;AAG3C,MAAM,CAAC,MAAM,qBAAqB,GAAG,CACnC,kBAAuC,EACjC,EAAE;IACR,kBAAkB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;QACnC,uCAAuC;QACvC,4BAA4B;QAC5B,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,IAAI,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC,KAAK,EAAE;YACxD,OAAO;SACR;QACD,6BAA6B;QAC7B,iEAAiE;QACjE,qBAAqB;QACrB,MAAM,YAAY,GAAG,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;QACzC,IAAI,YAAY,GAAG,CAAC,EAAE;YACpB,GAAG,CAAC,KAAK,IAAI,YAAY,CAAC;SAC3B;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC\"}","dtsmap":{"name":"/Users/wangyuan/Desktop/hiker-monitor/typings/performance/totalBlockingTime.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"totalBlockingTime.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../src/performance/totalBlockingTime.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,iBAAiB,EAAE,MAAM,kBAAkB,CAAC;AAErD,eAAO,MAAM,qBAAqB,uBACZ,iBAAiB,EAAE,KACtC,IAeF,CAAC\"}"},"dts":{"name":"/Users/wangyuan/Desktop/hiker-monitor/typings/performance/totalBlockingTime.d.ts","writeByteOrderMark":false,"text":"import { IPerformanceEntry } from '../typings/types';\r\nexport declare const initTotalBlockingTime: (performanceEntries: IPerformanceEntry[]) => void;\r\n//# sourceMappingURL=totalBlockingTime.d.ts.map"}}
